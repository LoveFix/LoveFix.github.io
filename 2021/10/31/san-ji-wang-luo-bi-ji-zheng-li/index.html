<!--
	作者：Sariay
	时间：2018-08-26
	描述：There may be a bug, but don't worry, Qiling(器灵) says that it can work normally! aha!
-->
<!DOCTYPE html>
<html class="html-loading">
		

<head>
	<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <title>
    
      三级网络笔记整理 | 七凉
    
  </title>
  <meta name="author" content="LoveFit">
  <meta name="keywords" content="" />
  <meta name="description" content="" />
	<!-- favicon -->
  <link rel="shortcut icon" href="/img/favicon.ico">

  <!-- css -->
  
<link rel="stylesheet" href="/css/Annie.css">

  
  <!-- jquery -->
	
<script src="/plugin/jquery/jquery.min.js"></script>


<script>
    const CONFIG_BGIMAGE = {
      mode: 'normal',
      normalSrc: '/img/psc.jpg',
      randomYouMax: 110,
      randomYouSrc: 'https://sariay.github.io/Random-img/',
	  randomOtherSrc: 'https://api.berryapi.net/?service=App.Bing.Images&day=-0',
	  preloaderEnable: true
    }
	
    const CONFIG_LEACLOUD_COUNT = {
      enable: true,
	  appId: 'ficdlHztBUihi3drfPYbqfEH-gzGzoHsz',
	  appKey: 'sW44IIFdMz0AbMawwTKmDTF6',
	  serverURLs: 'http' || ' '
    }
  </script>
<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="七凉" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
	<body>
		<!-- Preloader -->

	<div id="preloader">
		<div class="pre-container">
			
				<div class="spinner">
					<div class="double-bounce1"></div>
					<div class="double-bounce2"></div>
				</div>
						
		</div>
	</div>


<!-- header -->
<header class="fixbackground bg-pan-br">
	<div class="mask">
		<!-- motto -->
		<div class="h-body">	
			
				<div class="motto text-shadow-pop-left">
					<p class="content" id="motto-content">获取中...</p>
					<p>-<p>
					<p class="author" id="motto-author">Just a minute...</p>
				</div>
			
		</div>
		
		<!-- others: such as time... -->			
		<div class="h-footer">
			<a href="javascript:;" id="read-more" class="scroll-down">
				<span class="icon-anchor1 animation-scroll-down"></span>
			</a>
		</div>
	</div>
</header>

<div id="navigation-hide">
	<!-- Progress bar -->
	<div id="progress-bar"></div>

	<!-- Progress percent -->
	<div id="progress-percentage"><span>0.0%</span></div>

	<div class="toc-switch"><span class="switch-button">目录</span></div>

	<!-- Page title -->
	<p>
		
			「三级网络笔记整理」
		
	</p>

	
	
		<span id="star-button" rel="unlike">
			<i class="icon-heart"></i>
		</span>
	

	<!-- Nav trigger for navigation-H-->
	<a class="nav-trigger"><span></span></a>
</div>

<!-- Navigation in div(id="navigation-H") -->
<nav class="nav-container" id="cd-nav">
	<div class="nav-header">
		<span class="logo"> 
			<img src="/img/logo.png">
		</span>
		<a href="javascript:;" class="nav-close"></a>
	</div>
	
	<div class="nav-body">
		<ul id="global-nav">
	
		<li class="menu-home">
			<a href="/" class="menu-item-home" target="_blank">主页</a>
		</li>
		
	
		<li class="menu-archive">
			<a href="/archives" class="menu-item-archive" target="_blank">归档</a>
		</li>
		
	
		<li class="menu-categories">
			<a href="/categories" class="menu-item-categories" target="_blank">分类</a>
		</li>
		
	
		<li class="menu-tags">
			<a href="/tags" class="menu-item-tags" target="_blank">标签</a>
		</li>
		
	
		<li class="menu-about">
			<a href="/about" class="menu-item-about" target="_blank">关于</a>
		</li>
		
	
		<li class="menu-gallery">
			<a href="/gallery" class="menu-item-gallery" target="_blank">相册</a>
		</li>
		
	

	
		<li class="menu-search">
			<a href="javascript:;" class="popup-trigger">搜索</a>
		</li>
	
</ul>
	</div>
	
	<div class="nav-footer">
		<ul id="global-social">
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-one"><span class="path1"></span><span class="path2"></span></span>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-zhihu"></span>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-github"></span>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-sina-weibo "></span>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-pinterest2"></span>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-instagram"></span>
			</a>
		</li>
	
		<li>
			<a href="http://github.com/" target="_blank">
				<span class="icon-twitter"></span>
			</a>
		</li>
	
		<li>
			<a href="/atom.xml" target="_blank">
				<span class="icon-rss"></span>
			</a>
		</li>
			
</ul>

	</div>
</nav>
			
		<!--main-->
		<main>
			<!--
	时间：2018-11-17
	描述：
		插件名称：katelog.min.js
		插件作者：KELEN
		插件来源: https://github.com/KELEN/katelog
-->

	
		<div class="layout-toc">
			<div id="layout-toc">
				<div class="k-catelog-list" id="catelog-list" data-title="文章目录"></div>
			</div>
		</div>

		
<script src="/plugin/toc/katelog.min.js"></script>


		
	 

<div class="layout-post">
	<div id="layout-post">
		<div class="article-title">
			
	<a href="/2021/10/31/san-ji-wang-luo-bi-ji-zheng-li/" itemprop="url">
		三级网络笔记整理
	</a>

		</div>

		<div class="article-meta">
			<span>
				<i class="icon-calendar1"></i>
				
				




	更新于

	<a href="/2021/10/31/san-ji-wang-luo-bi-ji-zheng-li/" itemprop="url">
		<time datetime="2021-10-31T12:30:47.601Z" itemprop="dateUpdated">
	  		2021-10-31
	  </time>
	</a> 



			</span>
			<span>
						
			</span>
			
			

	
    <span class="leancloud_visitors" id="/2021/10/31/san-ji-wang-luo-bi-ji-zheng-li/_visitors" data-url="/2021/10/31/san-ji-wang-luo-bi-ji-zheng-li/" data-title="三级网络笔记整理">
       	<i class="icon-eye"></i>
       	热度
        
            <i class="leancloud_visitors_count" id="leancloud_visitors_count">1</i>
                   
    </span>
    



	
    <span class="leancloud_likes" id="/2021/10/31/san-ji-wang-luo-bi-ji-zheng-li/_likes" data-url="/2021/10/31/san-ji-wang-luo-bi-ji-zheng-li/" data-title="三级网络笔记整理" rel="unlike">
        <i class="icon-heart"></i>
        喜欢
        <i class="leancloud_likes_count" id="leancloud_likes_count">0</i>
    </span>
	

		</div>

		<div class="article-content" id="article-content">
			<p>@<a href="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%AD%89%E7%BA%A7%E8%80%83%E8%AF%95%E4%B8%89%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0">TOC</a></p>
<h2 id="RPR"><a href="#RPR" class="headerlink" title="RPR"></a>RPR</h2><ul>
<li>使用双环结构</li>
<li>由目的节点从环中收回</li>
<li>执行SRP公平算法</li>
<li>能够在50ms内实现自愈或者隔离出现故障的节点和光纤</li>
<li>内环和外环都可以用于传输数据分组和控制分组</li>
<li>是一种光纤传输分组的技术</li>
<li>两个RPR节点最大长度为100公里</li>
<li>用统计复用（ATDM）的方法传输IP分组</li>
<li>RPR沿顺时针传输的光纤叫做外环 沿逆时针传输的叫做内环</li>
</ul>
<h2 id="宽带城域网"><a href="#宽带城域网" class="headerlink" title="宽带城域网"></a>宽带城域网</h2><ul>
<li>三个平台和一个出口</li>
<li>网络平台、业务平台、管理平台和城市宽带出口</li>
<li>能够为用户提供带宽保证实现流量工程        核心层</li>
<li>利用NAT解决IP地址资源不足的问题         汇聚层</li>
<li>利用SNMP（网络管理协议）实现带外管理    接入层</li>
<li>利用传统电信网实现带内管理</li>
<li>对汇聚层及其以上设备采取带外管理，对汇聚层以下采取带内管理</li>
<li>服务质量保障（QOS）的主要技术有资源预留（RSVP）、区分服务（DIFFServ）、多协议标记交换（MPLS）</li>
<li>以TCP/IP协议为基础 以光传输网为基础 融合无线城域网 支持电信、电视与IP业务</li>
</ul>
<h2 id="宽带城域网汇聚层的基本功能"><a href="#宽带城域网汇聚层的基本功能" class="headerlink" title="宽带城域网汇聚层的基本功能"></a>宽带城域网汇聚层的基本功能</h2><ul>
<li>汇聚接入层 根据接入层  根据处理结果把用户流量转发到核心交换层或本地进行路由处理</li>
<li>宽带城域网核心（交换）层的基本功能</li>
<li>将多个汇聚层连接起来，为汇聚层网络提供高速分组转发 为整个城域网提供数据传输环境</li>
<li>实现与主干网络的互联 提供城市的宽带IP出口</li>
<li>提供用户访问Internet所需要的路由服务  </li>
</ul>
<h2 id="OC"><a href="#OC" class="headerlink" title="OC"></a>OC</h2><ul>
<li>OC-3  155.520Mbps </li>
<li>OC-12 622.080Mbps  OC-3 *4 </li>
<li> OC-24 1.244Gbps </li>
<li> OC-48  2.488Gbps </li>
<li>OC-192 9.954Gbps</li>
</ul>
<h2 id="接入网：解决用户接入因特网的需求（最后一公里）"><a href="#接入网：解决用户接入因特网的需求（最后一公里）" class="headerlink" title="接入网：解决用户接入因特网的需求（最后一公里）"></a>接入网：解决用户接入因特网的需求（最后一公里）</h2><ul>
<li>xDSL技术按照上行与下行速率分为速率对称与非对称</li>
<li>HDSL 上行传输速率为1.544Mbps</li>
<li>ADSL：非对称数字用户电话线</li>
<li>ADSL技术在现有用户电话线上同时支持电话业务和数字业务</li>
<li>ADSL上行传输速率可以达到64Kbps-640Kbps</li>
<li>ADSL下行传输速率可以达到500Kbps-7Mbps</li>
<li>ADSL使用一对铜双绞线 上下行速率是不对称的</li>
<li>ADSL modem 用于连接计算机</li>
<li>采用ADSL技术可以通过PSTN接入Internet</li>
<li></li>
</ul>
<h3 id="HFC（光纤同轴电缆混合网）技术"><a href="#HFC（光纤同轴电缆混合网）技术" class="headerlink" title="HFC（光纤同轴电缆混合网）技术"></a>HFC（光纤同轴电缆混合网）技术</h3><ul>
<li>HFC为有线电视用户提供了一种接入Internet方式</li>
<li>HFC是一种双向传输系统</li>
<li>HFC光纤结点通过同轴电缆下引线为用户提供服务</li>
<li>HFC通过Cable Modem将用户计算机与有线电视网同轴电缆连接起来  ！！</li>
<li>Cable Modem 利用频分多路复用</li>
<li>传输速率可达到10-36Mbps<h3 id="QOS：服务质量保障"><a href="#QOS：服务质量保障" class="headerlink" title="QOS：服务质量保障"></a>QOS：服务质量保障</h3>服务质量保障（QOS）的主要技术有资源预留（RSVP）、区分服务（DIFFServ）、多协议标记交换（MPLS）<h3 id="光以太网"><a href="#光以太网" class="headerlink" title="光以太网"></a>光以太网</h3></li>
<li>APON 有线接入    </li>
<li> SDH不属于宽带接入技术</li>
<li> 以帧为单位传输数据 </li>
<li>支持MPLS协议    </li>
<li>提供分级的QOS服务<h3 id="无线接入技术"><a href="#无线接入技术" class="headerlink" title="无线接入技术"></a>无线接入技术</h3></li>
<li>主要有WIFI（IEEE802.11） WIMAX（IEEE802.16） WPAN（IEEE802.15） Ad hoc 、WLAN（无线局域网） WMAN（无线城域网） WPAN（无线个人网）</li>
<li>802.15 近距离无线带宽</li>
<li>802.16最高传输速率为134Mbps</li>
<li>802.16a 802.16d 802.16e 用于固定接入或者移动接入<h3 id="接入技术"><a href="#接入技术" class="headerlink" title="接入技术"></a>接入技术</h3></li>
<li>宽带接入技术包括xDSL HFC 光纤接入 无线接入 - 和局域网接入</li>
<li>无线接入技术主要WLAN WMAN</li>
<li>802.11b将传输速率提高到11Mbps </li>
<li>802.11a将传输速率提高到 54Mbps</li>
<li>802.11g将传输速率提高到54Mbps</li>
<li>光纤传输系统的中继距离可达100km以上   </li>
<li>Cable Modem 频分多路复用<h3 id="ADSL-非对称"><a href="#ADSL-非对称" class="headerlink" title="ADSL 非对称"></a>ADSL 非对称</h3></li>
<li>三网融合 ：计算机网络 电信通信网 广播电视网</li>
<li>无源光接入网比有源光接入网 成本低</li>
<li>通过HFC方式 每个用户不能独享信道带宽<h2 id="设备选型"><a href="#设备选型" class="headerlink" title="设备选型"></a>设备选型</h2><h3 id="服务器技术"><a href="#服务器技术" class="headerlink" title="服务器技术"></a>服务器技术</h3><h4 id="CPU相关"><a href="#CPU相关" class="headerlink" title="CPU相关"></a>CPU相关</h4>服务器的总体性能不仅取决于cpu的数量，而且与cpu主频、系统内存、网络速度等都有关系<br>采用RISC（精简指令集）结构相关处理器通常使用unix系统 而不采用Windows系统<h4 id="内存相关"><a href="#内存相关" class="headerlink" title="内存相关"></a>内存相关</h4>分布式内存访问（NUMA）技术将对称多处理器（SMP）和集群（Cluster）技术结合起。<h4 id="硬盘相关"><a href="#硬盘相关" class="headerlink" title="硬盘相关"></a>硬盘相关</h4></li>
<li>磁盘性能体现在磁盘存储容量与I/O速度</li>
<li>采用RAID技术可以提高磁盘存储容量，但是不能提高磁盘容错能力</li>
<li>有些服务器自带RAID控制器 有些服务器需要外加一个RAID卡才能实现RAID功能</li>
<li>RAID10 就是RAID0 和RAID1的组合</li>
<li>RAID卡可以提供IDE、SCSI、SATA接口</li>
<li>RAID卡可以提供给多个磁盘接口通道</li>
<li>RAID5 可靠性优于RAID1<h4 id="整体相关"><a href="#整体相关" class="headerlink" title="整体相关"></a>整体相关</h4></li>
<li>集群（Cluster）系统中一台主机出现故障时不会影响系统的正常服务</li>
<li>集群系统一台主机出现故障时不会影响系统的整体性能</li>
<li>服务器的可靠性用平均无故障时间（MTBF）描述</li>
<li>服务器的可用性=MTBF/（MTBF +MTBR）平均维修时间（MTBR）</li>
<li>热插拔功能允许用户在不切断电源的情况下更换硬盘、内存、电源、板卡等（不包括主板、主背板）<h3 id="关于B-S"><a href="#关于B-S" class="headerlink" title="关于B/S"></a>关于B/S</h3></li>
<li>统一了客户端的程序</li>
<li>网络应用建立在Web服务的基础上</li>
<li>访问不同的应用服务器只需要Web浏览器作为统一的客户端程序</li>
<li>浏览器不能直接访问数据库服务器</li>
<li>采用三级架构<h3 id="路由器技术指标"><a href="#路由器技术指标" class="headerlink" title="路由器技术指标"></a>路由器技术指标</h3></li>
<li>技术指标主要包括吞吐量、背板能力、丢包率、时延与时延抖动、突发处理能力、路由表容量、服务质量</li>
<li>网管能力 可靠性 和可用性（不包括可堆叠数）</li>
<li>吞吐量是指路由器的包转发能力</li>
<li>背板能力决定了路由器的吞吐量  ！！！  </li>
<li>丢包率通常是衡量路由器超负荷工作时的性能指标（之一）</li>
<li>语音、视频业务对时延抖动要求较高</li>
<li>突发处理能力 是以最小帧间隔发送数据包而不引起丢失的最大发送速率</li>
<li>路由器的包转发能力与端口数量、端口速率、包长度和包类型有关</li>
<li>高性能路由器一般采用可交换结构</li>
<li>队列管理机制是指路由器的队列调度算法和拥塞管理机制</li>
<li>路由器通过路由表来决定包转发路径<h3 id="关于高端路由器的可靠性与可用性指标"><a href="#关于高端路由器的可靠性与可用性指标" class="headerlink" title="关于高端路由器的可靠性与可用性指标"></a>关于高端路由器的可靠性与可用性指标</h3></li>
<li>无故障连续工作时间大于10万个小时</li>
<li>系统故障恢复时间小于30分钟</li>
<li>主备系统切换时间小于50毫秒</li>
<li>SDH和ATM接口具有自动保护切换功能 切换时间小于50毫秒<h2 id="交换机总带宽"><a href="#交换机总带宽" class="headerlink" title="交换机总带宽"></a>交换机总带宽</h2></li>
<li>交换机总带宽计算方法：端口数<em>端口速率</em>2 </li>
<li>在网络系统分层设计中，层次之间的上联端口带宽与下联带宽之比一般控制在1：20</li>
<li><strong>==特别注意：在计算上联端口带宽时，不用除以20，其实就是计算总带宽==</strong><h2 id="服务器系统可用性"><a href="#服务器系统可用性" class="headerlink" title="服务器系统可用性"></a>服务器系统可用性</h2></li>
<li>如果系统高可用性达到99.9%，那么每年的停机时间&lt;=8.8小时</li>
<li>如果系统高可用性达到99.99%，那么每年的停机时间&lt;=53分钟（平均无故障时间可达525547分钟，365天减去53分钟）</li>
<li>如果系统高可用性达到99.999%，那么每年的停机时间&lt;=5分钟<h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2>使用私有地址的原因：可以节省IP地址<br>```</li>
</ul>
<p>10.0.0.0-10.255.255.255<br>172.16.0.0-172.31.255.255<br>192.168.0.0-192.168.255.255</p>
<pre><code> - 两个计算机中的进程要互相通信，不仅要知道对方的IP地址（为了找到对方的计算机）
而且要知道对方的端口号（为了找到对方计算机中的应用进程）
 - 端口使用一个16位（二进制）端口进行标志，有65535个不同的端口。
 - 服务器使用的端口（熟知端口）数值一般位0~1023
</code></pre>
<p>服务端常使用端口<br>FTP：21 TELNET：23 SMTP：25 DNS：53  TFTP：69<br>HTTP：80 SNMP：161 SNMP（trap）：162 HTTPS：443</p>
<pre><code> - 客户端使用的端口号（随机端口）数值一般为1024~65535
     - 第一类：内网主机访问外网服务器
          - 判断哪一步是第一步 观察S后面的端口是否为    随机地址（左下角或者右上角的框）
           - 主机访问外网服务器时：S被转换 D不变
           - 服务器响应客户时 S不变 D被转换 
 - 第二类：内网发布服务器，允许外网访问在外网主机连接内网服务器时必须使用公共地址，在路由器NAT转换表中D被转换，S 不变

 - 路由器分组转发过程中，数据包中包含目的主机IP地址和下一跳MAC地址
**==IPv6 二进制长度128位==**  
 - 冒号十六进制允许零压缩  一个地址只能使用一次零压缩
 - 不能使用子网掩码表示网络号长度
 - 分为单播 组播 任意播
## BGP
 - 在互联网中，一个大的ISP就是一个自治系统（AS）
 - 互联网把路由协议划分位两大类，一类是内部网关协议IGP这类路由协议使用的最多 如RIP和OSPF协议
 - 另一类是外部网关协议EGP 目前使用的最多外部网关协议是BGP的版本4（BGP-4）
 - 不同自治系统的路由器之间交换路由信息
 - 一个BGP发言人使用TCP与其他自治系统中的BGP发言人交换路由信息
 - BGP协议交换路由信息的节点数是以自治系统数为单位的
 - BGP协议交换路由信息的节点数不小于自治系统数
 - BGP-4采用路由（路径）向量协议
 - **BGP路由选择协议执行中使用的四个分组为打开（open）、更新（update）、保活（keepalive）和通知（notification）**
 - Open分组用来与相邻的另一个BGP发言人建立关系
 - 两个属于不同自治域系统的边界路由器初始协商时首先要发送open分组
 - 当路由信息变化时，BGP发言人使用update分组通知相邻自治系统
 - 使用update分组更新路由时，一个报文只能增加一条路由
 - 两个BGP发言人需要周期性地交换keep live分组来确认双方的相邻关系
 - BGP协议的分组中，需要周期性交换的是keepalive
## RIP
 - 路由更新报文主要内容是由若干（V、D）组成的表
 - 矢量V标识该路由器可以达到的目的网络或目的主机
 - D代表距离，指出该路由器达到目的网络或目的主-机的距离（跳数）
 - 路由器在接受到（V、D）报文后按照最短路径原则更新路由表
 - 要求路由器周期性地向外发送路由更新报文 相邻路由
 - RIP定时更新路由，默认每隔30秒更新一次
 - 在RIP路由配置模式下，用passive-interface命令可配置被动接口
 - RIP限制的最大跳数是15，如果超过15，则意味着路径不可到达
 - RIP缺省的管理距离值是120，在路由配置模式下可用distance命令重新设置该值
-**==方法：列表法（考试推荐使用）==**
</code></pre>
<p>R1之前的D        R1更新以后的D         R2传过来的D<br>0                     0         &lt;          3=2+1<br>？                    4         =          4=3+1<br>？                    4         &lt;          4=3+1<br>？                    3         &lt;          5=4+1</p>
<pre><code> - 第三条和第四条路由信息&lt;说明没有更新，那么之前的值一定是4，3，第二条路由信息 =说明之前的值大于或等于4 
 - 第一条路由信息，值是0说明R1直连此网段
 - 如果R1的路由表没有此项纪录，R1在路由表中增加该项，由于要经过R2转发，因此距离D值加1
 - 如果R1的路由表中的一项纪录比R2发送的D值加1还要大 R1修改该项      新的D值等于R2提供的D值加1
 - 如果R1的路由表中的一项纪录小于等于R2发送的距离D值加1，则此项纪录保持不变
</code></pre>
<p>Router(config)#router rip<br>Router (config-router)#passive-interface g0/1<br>Router(config-router)#network ip<br>Rip不支持使用子网掩码 rip是有类路由协议 </p>
<pre><code>## Ospf
 - 适用规模很大的网络，ospf通过划分区域来提高路由更新速度
 - 拥有一个32位的区域标识符
 - Ospf区域内的每个路由器的链路状态包含本区域而不是全网的拓扑结构信息
 - 一个区域的路由器数一般不超过200个
 - 在一个ospf区域内部的路由器不知道其他区域的网络拓扑
 - Ospf协议要求当链路状态发生变化时用洪泛法发送此信息（向所有路由器）
 - 距离、延时、带宽都可以作为ospf协议链路状态度量
 - Ospf使用最短路径算法 分布式链路状态协议
 - 链路状态度量主要是指费用、延时、距离、带宽等。
 - 使用ospf协议的路由器都建立一个链路状态数据库，即拓扑结构图（不是路由表）
 - Ospf区域的数字标识符称为区域id
 - 骨干区域的id为0
 - 区域id为0 ~0.0.0.0
 - Ospf的network语句中使用通配符掩码（反掩码），area语句中使用子网掩码
## 设备工作层次
 - 物理层的功能：比特流同行或信号通信
 - 数据链路层：帧通信，例如以太网帧
 - 网络层：包通信，例如IP包
 - 集线器运行CSMA/CD介质访问控制方法（不是协议）
    - CSMA/CD 以太网 CSMA/CA WIFI
 - 连接到一个集线器的多个结点可以同时接受数据帧，但是同时只能由一个结点发送数据
 - 集线器不能基于MAC地址完成数据转发
 - 工作在数据链路层的设备：二层交换机 网桥 网卡
透明网桥一般用在两个MAC层协议相同的网段之间的互联
    - 网桥的主要性能指标包括帧转发速率和帧过滤速率 
    - 网桥能够互联传输速率不同的局域网
    - 交换机在源端口与目的端口间建立虚连接
    - 连接二层交换机上不同VLAN成员之间不可以直接通信（通信需要三层设备）
    - 二层交换机维护一个表示MAC地址与交换机端口对应关系的交换表   ！！！
 - X type -y Name ：x表示以Mbps为单位的传输速率 
 - type表示数据传输方式是基带传输方式还是频带
y表示网段的最大长度，单位为100m
 - IEEE 802.3 10Base-5采用基带传输
## 综合布线

- 建筑群子系统之间一般用光缆、双绞线、电器保护设备等来连接
- 对于建筑群子系统来说，管道内布线是最理想的方式
    
- ### 垂直干线子系统
    - 干线线缆经常采用点对点结合和分支结合两种方式
- ###    管理间子系统
    - 采用在管理子系统中更改、增加、交换、扩展线缆的方式来改变线缆路由
    -     管理子系统设置在楼层配线间内
    -     管理子系统提供与其他子系统连接的手段
    
- ###    水平子系统
    -     双绞线扭绞可以减少电磁干扰
    -     STP成本比UTP高 抗干扰能力强
    -     作为水平布线系统电缆时 UTP电缆长度应该在90米以内
    
- ###    工作区子系统
    -     对高速率终端可采用光纤直接到桌面的方案
    -     当在单一信息插座上进行两项服务时，宜采用Y形适配器
    -     适配器具有转换不同速率的功能
    -     嵌入式安装插座用来连接双绞线的
    -     多介质插座是用来连接铜缆和光纤
    -    在设备连接器与不同的信息插座连接时，可选用专用电缆或适配器。

-    ### 综合部分
    -    网络拓扑结构的组合逻辑描述网络功能的体系结构，配置形式描述网络单元的邻接关系
    - PDS（综合布线系统）工程的设备配置是指各种配线架、布线子系统、传输介质和信息插座等的配置
- 综合布线系统的标准 ：带568A或者568B的  GB/T 50311-2000
- 对线缆最有利的和最不利的方式分别是管道内布线和直埋布线

## 交换机  
&lt;br/&gt;&lt;/br&gt;
- 交换机接受数据包中的MAC地址和转发数据（不是IP地址）
- 交换机建立和维护一个表示目的MAC地址与交换机端口对应关系的交换表
- 交换表中没有接受某些帧的目的MAC地址时，交换机用flood（泛洪）技术转发该帧
- 在一些高端交换机中，交换表通常被保存在CAM存储器（可编址内容存储器）中
- Show mac-address-table 显示小型交换机的交换表内容 cisco大型交换机指的是 Catalyst 6500系列和Catalyst 4000系列 
- Show cam dynamic 显示大型交换机的交换表的内容 
- 采用盖时间戳的方法刷新交换表
- 根据帧中目的地址，通过查询交换表确定是丢弃还是转发该帧，完成数据帧的转发或者过滤
- 可将多台数据终端设备连接在一起，构成星状结构的网络，允许多对站点进行并发通信
- 在交换机源端口和目的端口之间建立虚连接
==**交换机由存储转发、快速转发和碎片丢弃三种交换模式。**==
**- 交换机有三种配置模式 console（本地控制台）、telnet（远程命令行）、IE（web调试）**
    - Console用于出厂第一次配置时采用的模式
    - telnet要求交换机已经连接到网上 ，而且已配置了交换机的设备管理地址
    - 直通交换模式的交换机开始转发数据帧已经接收到的帧长度为14个字节
    - 碎片丢弃转发的交换机接收到的数据帧长度为64个字节
    - 存储转发的交换机转发之前将整个帧读取到内存里，合法的帧长度为64-1518个字节
- 数据字段的长度在46~1500字节之间
- MAC帧格式  读取前14个字节（**物理层8个字节+数据链路层6个字节 目的地址**）
- 对于大型交换机 交换表第一列是VLAN号 第二列是目的地址 第三列目的地址所对应的交换机端口号
**如果没有VLAN则省略该列**
- 对于小型交换机 交换表第一列是目的MAC地址（通常用点分隔） 第二列是地址类型 第三列是VLAN号 第四列是该目的MAC地址所对应的交换机端口号 
- ==小型交换机设置时间的格式是 clock set 小时：分钟：秒 日 月 年 （没有星期）==
- ==大型交换机设置时间的格式是 set time 星期 月/日/年 小时：分钟 ：秒==
## 交换机基本命令 
- 配置交换机的设备管理地址首先要进入VLAN 
- VLAN1是用于设备管理的缺省VLAN 语句：
</code></pre>
<p>switch 3548（config）#interface VLAN1</p>
<pre><code>- 表示进入接口 switch 3548（config-if）#ip address ip 子网掩码 表示为交换机添加管理IP 配置缺省路由语句：
</code></pre>
<p>switch-3548（config）#IP default-gateway 路由地址</p>
<pre><code>- 配置远程登录管理口令 
</code></pre>
<p>line vty 0 45</p>
<pre><code>
## VLAN
- VLAN以交换式网络为基础
-     工作在数据链路层 
-     VLAN之间通信必须通过路由器 内部不能通信
-     VLAN通常用VLAN ID 和VLAN name标识
-     Vlan id范围1-1001（或者1-1000） 以太网vlan   扩展vlan id 范围1025~4094
-     用于标识VLAN 的VLAN id 用12bit表示
-     IEEE802.1Q 标准规定，VLAN name 最多用32个字符表示 VLAN id用12bit表示
- 缺省的vlan名是系统根据vlan id自动生成的
-     把每个连接到交换机设备的mac地址定义vlan成员是一种动态的vlan
-     工作在VTP client模式下的交换机 要学习来自VTP server的VLAN信息
-     不同厂家交换机互连要实现 VLAN trunk 功能时 必须在直连的两台交换机端口上都封装上IEEE 802.1Q协议，从而保证协议的一致性
-     **Vlan 1是系统默认vlan 不能使用 no vlan1删除vlan 添加vlan id号 name vlan名**
-     建立vlan配置语句 
</code></pre>
<p>vlan 500 name vlan名</p>
<pre><code>-     划分vlan 可以基于mac地址或者基于端口
-     VRP server提供VTP信息 VTP client 可以请求VTP消息学习相同域名的VTP消息 VTP transparenet模式相当于一个独立的交换机不参与VTP工作
- 设置VTP域名的语句是VTP domain 域名
## STP
1.    Stp(生成树协议)标准是IEEE 802.1D
2.    STP是一个二层链路管理协议
3.    STP运行在交换机和网桥设备上，通过计算建立一个稳定的树状结构网络
4.    STP到运行在交换机上（不包括路由器）
5.    STP无论是根的确定还是树状结构的生成，主要依靠BPDU提供的信息
6.    Birdg id由8个字节组成，两个字节的优先级值和6个字节的交换机MAC地址
7.    Bridge id由优先级值和交换机的MAC地址组成，优先级的增量式4096
8.    在配置BPDU的bridge id中，优先级的取值范围是0~61440，增量为4096
9.    优先级取值越小，优先级越高 当优先级相同时 就根据MAC地址的值决定根网桥 MAC地址值最小的为根网桥
10.    一般交换机的优先级默认值为32768
11.    Bridge id值最小的成为根网桥或者根交换机
12.    拓扑变化通知BPDU数据包的长度不超过4个字节（小于等于四个字节）
13.    配置BPDU数据包的长度小于等于35个字节
14.    Stp在交换机之间传递BPDU数据包，默认每2秒定时发送一次
15.    生成树中阻塞端口只能接收和读取BPDU，不能接收和转发数据流
16.    网桥协议数据单元携带的实现生成树算法的信息 不包括Root MAC Address
17.    非直连链路失效，使用BackboneFast功能。 Set spantree backbonefast enable
18.    直连链路失效，使用uplinkFast 功能。
19.    配置直连链路失效时的收敛速度 命令为 spanning-tree uplinkfast max- update-rate 32000
20.    加快pc机和服务器接入到网络中的速度，stp可选的正确配置时 set spantree portfast 4/1-24 enable
21.    设置交换机优先级 set spantree priority 优先级数
## 6500交换机
1. Cisco大型交换机主要指 catalyst 6500 和catalyst 4000系列 其他型号为小型交换机
2. 所有命令的英文字母不区分大小写 ，只有作为名称使用时才区分大小写
3. ==大型交换机设置时间 星期 月日 年 时分秒==
4. ==小型交换机设置时间 时分秒 日月年==
**2/1 模块号/端口号**
</code></pre>
<p>6500<br>Set port duplex 4/5 half 半双工<br>Set port duplex 4/5 FULL 全双工<br>Set port speed 4/5 1000 设置千兆速率<br>Set port enable 5/1-12 激活端口 5/1-5/12 (×)<br>3500<br>Interface g0/1<br>No shutdown 激活端口<br>Duplex full 全双工<br>Speed 1000 设置速率</p>
<pre><code>### 交换机6500配置设备管理地址 和缺省路由
 **Set interface sc0 ip地址 子网掩码 广播地址**
**Set ip route 0.0.0.0 路由地址**
### 交换机3548配置设备管理地址和缺省路由
**Interface vlan1 
IP address IP地址
IP default gateway 网关地址**
### 配置6500交换机vlan ：
- **配置vlan的trunk模式  （enable） set trunk 5/1 on dot1q**
-     **配置允许中继的**
- **vlan   set trunk 5/1 vlan 10-35**  
-     **配置不允许中继的vlan  （enable） clear trunk 5/1 23**
### 配置3500 交换机
**Switchport trunk  encapsulation 协议名**
**Switchport trunk   allowed vlan 端口范围**
**Switchport trunk   allowed vlan except 3-16**

## 路由器
- 路由器分组转发的数据包中包括是目的主机的IP地址和下一跳MAC地址 而不是目的主机的MAC地址
-     Cisco路由器 回答 no 进入用户模式 回答yes进入设置模式
-     执行命令enable 进入特权模式 router #
-     在特权模式下执行命令 configure terminal 进入全局配置模式 Router（config ）# 
-     在全局模式下执行命令line vty  0 4 进入虚拟终端配置模式 Router（config -line）# 执行exit返回全局配置模式
-     执行命令 router IP 进入路由协议配置模式 
-     执行路由器的IP route 命令必须进入的工作模式是 全局配置模式
-     显示路由器的配置信息时，路由器必须进入的工作模式 特权模式  查看路由表信息命令 show up route
-      Global configuration 全局模式 Privileged EXEC（特权模式） setup是设置模式 user EXEC（用户模式）
-     恢复密码必须进入的模式时 RXBOOT（维护模式）
-     煤油任何配置的Cisco路由器需要进入的模式是设置模式
-     Cisco 路由器主要存储器和对应的存储文件：
1. Rom存储器 （只读存储器），存储开诊断程序、引导程序、IOS（设备操作系统）
2. RAM存储器（主内存），存储running-config 文件（运行配置文件）
3. NVRAM（非易失性存储器），存储startup-config 文件（启动配置文件）
4. Flash存储器（闪存），存储IOS（设备操作系统）映像和微代码
- 管理距离的值越小，路由信息源的可信度越高。 
-     直接连接 0 静态路由 1 OSPF 110 RIP 120 外部**BGP 20 内部 BGP 200 未知 255**
-     最短路径优先协议（OSPF）使用分布式链路状态算法
-     路由信息协议（RIP）是一种基于距离向量的路由选择协议
-     边界网关协议（BGP）可以在两个自治域系统间传递路由选择信息
-     链路状态度量主要包括带宽、距离、费用、延时等

### 路由表
1.    第一列表示路由项的来源 标识这个路由项是通过什么方式或者通过何种路由选择协议建立的
2.    第二列表示目的网络地址和子网掩码
3.    第三列表示目的端口或下一跳路由器的地址
4.    第四列 【】中前半部分为管理距离 后半部分为权值
5.    第五列是vlan网络
**C表示直连（connected）管理距离 0 
S表示静态（static）路由  管理距离1 
O表示OSPF协议 管理距离110 
IGRP 100 IS-IS 115
E1表示OSPF外部路由类型 1 E2表示外部路由类型2
S*表示缺省路哟
B表示BGP**
- 查看路由表是否正确，使用排除法，步骤如下：
    1.    先看中括号：第一个数字即管理距离（AD值）
    2.    然后看via后跟IP地址（不是端口） 直连网段（C）没有 via
    3.    默认路由（第一句和最后一句是否匹配） 网址和子网掩码都是0 0.0.0/0
    4.    对路由器而言网段属于端口而不是vlan 对第三层交换机而言 网段属于vlan而不是端口
## 路由器配置
- Loopback（回环接口）是一个虚拟接口，没有一个实际的物理接口与之对应
- 网络管理员为loop back接口分配一个IP地址 其掩码应为 255.255.255.255
- Loop back永远处于激活状态，可用于网络管理
- 通过拨号远程配置Cisco路由器时，应使用的接口是AUX 
## 常考点
</code></pre>
<p>Router（config）#interface pos 3/0<br>Router（config-if）# bandwidth 1000000 带宽  位kbps<br>Router（config-if）#IP address IP地址 子网掩码 添加IP地址<br>Router（config-if）#crc  crc循环冗余校验 可选crc16或者32<br>Router（config-if）# pos framing sdh 帧格式 可选sdh或者sonet<br>Router（config-if）#no IP directed-broadcast 去掉广播功能<br>Router（config-if）#pos flag s1s0 2  s1s0 2对应sdh  s1s0 0对应SONET<br>No shutdown 激活接口<br>缺省（默认）路由是一种特殊的路由 写法是ip route 0.0.0.0 0.0.0.0 下一跳IP<br>Cisco路由器DHCP地址池配置</p>
<ol>
<li>   首先排除不用于动态分配的地址 router（config）#ip dhcp excluded-address  起始IP 结束IP</li>
<li>   配置地址池  router（config） #IP dhcp pool</li>
<li>   配置IP地址池的子网地址和子网掩码  router（dhcp-config） #network</li>
<li>   配置缺省网关  router(dhcp-config) #default -router</li>
<li>   配置IP地址池的域名 router（dhcp-config）#domain-name</li>
<li>   配置域名服务器的IP地址 router(dhcp -config) #dns -server address</li>
<li>   配置租借期 router （dhcp-config） #lease  天数 小时数 分钟数<br>异步串行接口 a开头 同步串行接口s开头<br>配置异步串行接口 async default IP address  IP<br>配置同步串行接口 IP address IP地址 子网掩码<br>```<h2 id="路由器ACL"><a href="#路由器ACL" class="headerlink" title="路由器ACL"></a>路由器ACL</h2></li>
</ol>
<ul>
<li>分为两类ACL：<ol>
<li>标准ACL：检查路由数据包的源IP地址</li>
<li>扩展ACL：检查数据包的源和目的IP地址 或者特定的协议 端口和其他参</li>
</ol>
</li>
<li>ACL编号 ：<strong>1 -99 1300-1999 代表标准ACL  100-199 或2000-2999表明扩展ACL</strong></li>
<li>配置步骤<ol>
<li>第一步：全局配置命令access-list来创建ACL </li>
<li>第二步：接口配置命令ip access-group 在接口上应用ACL</li>
</ol>
</li>
<li>ACL语句中的掩码应该使用反掩码<br>Eq （等于）</li>
<li>Access-list 编号 deny udp 源IP 源port （随端口，一般省略） 目的IP 目的port</li>
<li>命名式标准ACL<br>Ip access-list standard block<br>Config -std – nacl 2</li>
<li>Permit icmp IP地址 子网掩码 any<br>有端口是扩展ACL<h2 id="无线网"><a href="#无线网" class="headerlink" title="无线网"></a>无线网</h2></li>
<li>IEEE802.11 定义在ISM频段（波段） </li>
<li><pre><code>ISM频段（波段）无须申请
</code></pre>
</li>
<li><pre><code>传输速率为1Mbps或2Mbps 使用CSMA/CA
</code></pre>
</li>
<li><pre><code>WIFI的组网类型     1. 点对点 对等 AD HOC 无AP 有无线网 不存在有线网 无线网卡    2. 基本 有AP 有无线网卡 无线网和有线网都存在 AP
</code></pre>
</li>
<li>IEEE 802.11   2.4GHz ISM频段 最大传输速率1Mbps-2Mbps</li>
<li><pre><code>IEEE 802.11b 2.4GHz ISM频段 最大传输速率11Mbps               
</code></pre>
</li>
<li><pre><code>IEEE 802.11g 2.4GHz ISM频段 最大传输速率 54Mbps
</code></pre>
</li>
<li><pre><code>IEEE 802.11a 5HzG UNII频段  最大传输速率54Mbps
</code></pre>
</li>
<li><pre><code>最多256PC
</code></pre>
</li>
<li><pre><code>Aironet 1100是AP
</code></pre>
</li>
<li><pre><code>采用无线连接配置接入点时，不配置SSID或SSID配置为tsunmi SSID无线接入点名称
</code></pre>
</li>
<li><pre><code>接入点的默认管理ip是10.0.0.1 密码为Cisco
</code></pre>
</li>
<li><pre><code> 对称连接的异步信道速率是433.9kbps
</code></pre>
</li>
<li><pre><code>非对称连接的异步信道速率是433.9kbps/57,6kbps
</code></pre>
</li>
<li><pre><code>同步信道速率是64kbps
</code></pre>
</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/f7732206ba4d42b3808722b7c6fdd4fb.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAcXFfNTQ3NDM3Mzg=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
	
		</div>
		
		<div id="current-post-cover" data-scr="/img/2.jpg"></div>

		<!-- relate post, comment...-->
		<div class="investment-container">
			<div class="investment-header">
				<div class="investment-title-1">
					<div class="on">相关文章</div>
					<div>评论</div>
					<div>分享</div>
				</div>
				<div class="investment-title-2">	            
					
	<span>
		<a id="totop-post-page">返回顶部</a>
		
		
			<a href="/2021/10/21/xiao-ai-de-ce-shi-wen-zhang/" title="小呆的测试文章" rel="next">
				下一篇&raquo;
			</a>
			
	</span>


      		
				</div>	
			</div>
			
			<div class="investment-content">
				<div class="investment-content-list">
					

<div class="relate-post">
	
		<ul>
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2021/10/21/xiao-ai-de-ce-shi-wen-zhang/" title="小呆的测试文章">
								小呆的测试文章			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十月 21日, 2021				
							</p>
							<p class="relate-post-content">
								
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2021/10/21/xiao-ai-de-ce-shi-wen-zhang/" title="小呆的测试文章">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/header-bg.jpg" alt="小呆的测试文章"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2021/10/12/hello-world/" title="Hello World">
								Hello World			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十月 12日, 2021				
							</p>
							<p class="relate-post-content">
								Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using ...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2021/10/12/hello-world/" title="Hello World">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="Hello World"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="/2021/01/01/2021-10-24/" title="发布第一个博客">
								发布第一个博客			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								一月 1日, 2021				
							</p>
							<p class="relate-post-content">
								我的第一个博客关于怎么发布一个博客到搭建好的博客hexo命令首先来认识一些hexo命令

  hexo g #完整命令为hexo generate,用于生成静态文件
hexo s #完整命令为hexo server,用于启动服务器，主...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="/2021/01/01/2021-10-24/" title="发布第一个博客">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/1.jpg" alt="发布第一个博客"/>
							</a>
						</div>
					</li>												
			
		</ul>
	
</div>	
				</div>
				<div class="investment-content-list">
					<div class="layout-comment">

	

		

			<!-- gitalk comment -->
			<!-- show gitalk comment -->
<div id="gitalk-container"></div>

<!-- gitalk`s css & js -->
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<link rel="stylesheet" href="/css/comment.css">
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script type="text/javascript">

	(function gitalkComment(){
		//Thanks O-R
		//https://github.com/gitalk/gitalk/issues/102#issuecomment-382970552
		//去除尾部匹配正则数组的字符串  
		//Remove redundant characters
		String.prototype.trimEnd = function(regStr) {
			let result = this;
			if(regStr == undefined || regStr == null || regStr == "") {
				return result;
			}
			let array = regStr.split(',');

			if(array.length > 0) {

				let c = array.shift(), 
					str = this,
					i = str.length,
					rg = new RegExp(c),
					matchArr = str.match(rg);

				if(matchArr != undefined && matchArr != null && matchArr.length > 0) {
					let matchStr = matchArr[0].replace(/\\/g, "\\\\").replace(/\*/g, "\\*")
						.replace(/\+/g, "\\+").replace(/\|/g, "\\|")
						.replace(/\{/g, "\\{").replace(/\}/g, "\\}")
						.replace(/\(/g, "\\(").replace(/\)/g, "\\)")
						.replace(/\^/g, "\\^").replace(/\$/g, "\\$")
						.replace(/\[/g, "\\[").replace(/\]/g, "\\]")
						.replace(/\?/g, "\\?").replace(/\,/g, "\\,")
						.replace(/\./g, "\\.").replace(/\&/g, "\\&");
					matchStr = matchStr + '$';
					result = str.replace(new RegExp(matchStr), "");
				}

				if(array.length > 0) {
					return result.trimEnd(array.join())
				} else {
					return result;
				}
			}
		};

		//Create gitalk
		let gitalk = new Gitalk({
			clientID: '31d7fd34d8f4c1b57f61',
			clientSecret: '3a91723d39a983426469a5cc114a99e09ff6d05e',
			//id: window.location.pathname,
			//id: decodeURI(window.location.pathname),
			//id: (window.location.pathname).split("/").pop().substring(0, 49),
			id: decodeURI( md5( location.href.trimEnd('#.*$,\\?.*$,index.html$') ) ),
			repo: 'Lovefix.github.io',
			owner: 'Lovefix',
			admin: 'Lovefix',
			distractionFreeMode: 'true',
		})
		gitalk.render('gitalk-container');		
	})();
</script>

		
		
	

</div>
				</div>
				<div class="investment-content-list">
					<div class="layout-share">
	
	

		
			
			<!-- socialShare share -->
			<div class="social-share"></div>

<!--  css & js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
<script async src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
			
		
		
	
</div>


				</div>
			</div>	
		</div>
	</div>
</div>

<!-- show math formula -->



	





<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">


<script src="/plugin/fancybox/jquery.fancybox.js"></script>


<script type="text/javascript">
	(function gallerySet(){
		let titleID = $('.article-title a'),
			imageID = $('.article-content img'),
			videoID = $('.article-content video');
		
		let postTitle = titleID.text() ? titleID.text() : "No post title!";
		
		imageID.each(function() {
			let imgPath = $(this).attr('src'),
				imgTitle = $(this).attr('alt') ? $(this).attr('alt') : "No image description!";
		
			//给每个匹配的<img>元素打包, 即添加父元素<a>
			$(this).wrap('<a data-fancybox="gallery" data-caption="《 ' + postTitle + ' 》' + imgTitle + '"href="' + imgPath + '"> </a>');
		});
		
		videoID.each(function() {
			let videoPath = $(this).attr('src');
		
			//给每个匹配的<img>元素打包, 即添加父元素<a>
			$(this).wrap('<a data-fancybox href=" ' + videoPath + ' "> </a>');
		});
		
		//TODO：支持html5 video

		if($('#layout-post').length) {
			$('[data-fancybox="gallery"]').fancybox({
				loop: true,
				buttons: [
					"zoom",
					"share",
					"slideShow",
					"fullScreen",
					//"download",
					"thumbs",
					"close"
				],
				protect: true
			});
		}
	})();
</script>
		</main>

		<!--footer-->
		<footer>
	<div id="navigation-show">
		<ul id="global-nav">
	
		<li class="menu-home">
			<a href="/" class="menu-item-home" target="_blank">主页</a>
		</li>
		
	
		<li class="menu-archive">
			<a href="/archives" class="menu-item-archive" target="_blank">归档</a>
		</li>
		
	
		<li class="menu-categories">
			<a href="/categories" class="menu-item-categories" target="_blank">分类</a>
		</li>
		
	
		<li class="menu-tags">
			<a href="/tags" class="menu-item-tags" target="_blank">标签</a>
		</li>
		
	
		<li class="menu-about">
			<a href="/about" class="menu-item-about" target="_blank">关于</a>
		</li>
		
	
		<li class="menu-gallery">
			<a href="/gallery" class="menu-item-gallery" target="_blank">相册</a>
		</li>
		
	

	
		<li class="menu-search">
			<a href="javascript:;" class="popup-trigger">搜索</a>
		</li>
	
</ul>
	</div>

	<div class="copyright">
		<p>
			 
				&copy;2020 - 2021, content by LoveFit. All Rights Reserved.
			
			
				<a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="https://github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay.
			
		</p>
		<p>
			

	<!-- busuanzi -->
	<!-- busuanzi -->

		
	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	

		<span id="busuanzi_container_page_pv">
	  		本文总阅读量<span id="busuanzi_value_page_pv"></span>次
		</span>

	




			<a href="javascript:zh_tran('s');" class="zh_click" id="zh_click_s">简体</a> 
			<a href="javascript:zh_tran('t');" class="zh_click" id="zh_click_t">繁體</a>				
		</p>
	</div>		
</footer>
		
	<!-- Local or hitokoto! -->

	
<script src="/plugin/motto/motto.js"></script>

	
	<script type="text/javascript">
		(function motto(){
			let mottoText = getMingYanContent().split('</br> - </br>'),
			
			mottoTextContent = mottoText[0]?mottoText[0]:'请刷新...',
			
			mottoTextFrom = mottoText[1]?mottoText[1]:'one/一个';
			
			mottoTextContent = mottoTextContent.trim().substring(0, 100);
		
			$("#motto-content").html( mottoTextContent);
			$("#motto-author").html( mottoTextFrom  );
		})();	
	</script>	



<!-- love effect -->

	
<script src="/plugin/love/love.js"></script>



<!-- back to top -->

	<div id="totop">
	<span class="icon-circle-up"></span>
</div>



<!-- site analysis -->


	<!-- site-analysis -->
	
	
	
	
	
 

<!-- leancloud -->


	<!-- leancloud -->
	<!--
	时间：2018-11-27
	描述：
		文章访问量：visitors
		文章喜欢量：likes	
		文章排行榜：topNPost
		其他得说明：
			01-Cookie相关的函数 
				https://blog.csdn.net/somehow1002/article/details/78511541（Author：somehow1002）
			02-visitors相关的函数 
				https://blog.csdn.net/u013553529/article/details/63357382（Author：爱博客大伯）
				https://notes.doublemine.me/2015-10-21-为NexT主题添加文章阅读量统计功能.html（Author：夏末）
			03-topNPost相关的函数
				https://hoxis.github.io/hexo-next-read-rank.html（Author：hoxis）
			04-likes相关的函数，
				参考了01 & 02进行简单的设计与实现
-->


  
<script src="/plugin/leancloud/av-min.js"></script>
<script src="/js/leancloud-count.js"></script>


	

  

	<!--
	时间：2018-10-3
	描述：
		插件名称：hexo-generator-search-zip
		插件来源: https://github.com/SuperKieran/hexo-generator-search-zip
		代码参考：https://github.com/SuperKieran/TKL/blob/master/layout/_partial/search.ejs(Include: js & css)	
-->
<div class="popup search-popup local-search-popup scrollbar" >
	<div class="local-search-container">
		<span class="popup-btn-close">
      		ESC
   		</span>
		<div class="local-search-header">
			<div class="input-prompt">				
			</div>
			<input autocomplete="off" placeholder="Search..." type="text" id="local-search-input">
		</div>
		<div class="local-search-body">
			<div id="local-search-output"></div>
		</div>
		<div class="local-search-footer">
			<div class="topN-post">				
				

   
	<div id="topN">
		<div class="topN-title" data-title= "热门文章"></div> 
	</div>
	
    <script>
        var limitCount = 10;
        if( $('#topN').length ){
            setTimeout(function() {
                topNPost(limitCount);
			}, 3000);
        }
    </script>
   
								
			</div>
		</div>
	</div>
</div>


<script src="/plugin/search/ziploader.js"></script>
<script src="/js/search.js"></script>


<script type="text/javascript">
	var search_path = 'search.xml',
		zip_Path = '/',
		version_Path = '/',
		input_Trigger = 'auto',
		top_N = '2';

	themeLocalSearch({
		search_path, 
		zip_Path, 
		version_Path, 
		input_Trigger, 
		top_N
	});
</script>



<script src="/plugin/chinese/chinese.js"></script>
<script src="/plugin/imagelazyloader/yall.min.js"></script>
<script src="/plugin/imageloaded/imagesloaded.pkgd.min.js"></script>
<script src="/plugin/nicescroll/jquery.nicescroll.js"></script>
<script src="/plugin/resizediv/resizediv.js"></script>
<script src="/js/main.js"></script>

	<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>	
</html>